{% load static %}
{% load filters %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>Qlean</title>
    <!-- Fonts -->
    <link rel="stylesheet" href="{% static 'icons/font-awesome/css/font-awesome.min.css' %}">
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'img/favicon.png' %}">
    <!-- Custom Stylesheet -->
    {% block style %}{% endblock style %}
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="{% static 'plugins/metismenu/css/metisMenu.min.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/toastr/css/toastr.min.css' %}">
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
</head>
<body>
<!--******************* Анимация загрузки ********************-->
<div id="preloader">
    <div class="loader">
        <svg class="circular" viewBox="25 25 50 50">
            <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="3" stroke-miterlimit="10"></circle>
        </svg>
    </div>
</div>
<!--********************************** Главная страница ***********************************-->
<div id="main-wrapper" class="show">
    <!--********************************** Логотип ***********************************-->
    <div class="nav-header">
        <div class="brand-logo">
            <a href="{% url 'index' %}">
                <b class="logo-abbr"><img src="{% static 'img/logo_q.png' %}" alt=""></b>
                <span class="logo-compact"><img src="{% static 'img/logo.png' %}" alt=""></span>
                <span class="brand-title">
                    <img src="{% static 'img/logo.png' %}" alt="">
                </span>
            </a>
        </div>
    </div>
    <!--********************************** Header ***********************************-->
    <div class="header">
        <div class="header-content clearfix">
            <div class="nav-control">
                <div class="hamburger">
                    <span class="toggle-icon"><i class="icon-menu"></i></span>
                </div>
            </div>
            <div class="header-left">
                <div class="input-group icons">
                    <div class="text-left ml-4">
                        <a class="mx-1 btn btn-secondary btn-md" href="{% url 'crmapp:order_create' %}">Создать
                            заказ</a>
                        <a class="mx-1 btn btn-secondary btn-md" href="{% url 'crmapp:order_index' %}">Список
                            заказов</a>
                    </div>
                </div>
            </div>
            <div class="header-right">
                <ul class="clearfix">
                    <li class="icons dropdown d-none d-md-flex">
                        <a href="javascript:void(0)" class="log-user" data-toggle="dropdown" aria-expanded="false">
                            <span>Аккаунт</span> <i class="icon-user f-s-20" aria-hidden="true"></i>
                        </a>
                        <div class="drop-down dropdown-profile animated fadeIn dropdown-menu">
                            <div class="dropdown-content-body">
                                <ul>
                                    <li>
                                        <a class="btn mb-1 btn-rounded btn-info"
                                           href="{% url 'accounts:profile' user.id %}">
                                            <i class="icon-user"></i>
                                            <span>Мой профиль</span>
                                        </a>
                                    </li>
                                    <li>
                                        <hr class="my-2">
                                    </li>
                                    <li>
                                        <a href="{% url 'accounts:logout' %}">
                                            <i class="icon-key"></i>
                                            <span>Выйти</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!--********************************** Sidebar ***********************************-->
    <div class="nk-sidebar">
        <div class="slimScrollDiv">
            <div class="nk-nav-scroll active">
                <ul class="metismenu in" id="menu">
                    {% block links %}
                        {% if request.user|has_group:'Manager' or request.user.is_staff %}
                            <li>
                                <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                                    <i class="icon-people menu-icon"></i>
                                    <span class="nav-text">Сотрудники</span>
                                </a>
                                <ul aria-expanded="false" class="collapse">
                                    <li><a href="{% url 'accounts:staff-list' %}">Список сотрудников</a></li>
                                    {% if request.user.is_staff %}
                                        <li><a href="{% url 'accounts:staff-manager-list' %}">Список менеджеров</a></li>
                                    {% endif %}
                                    <li><a href="{% url 'accounts:register' %}">Добавить сотрудника</a></li>
                                    <li><a href="{% url 'accounts:black-list' %}">Черный список</a></li>
                                </ul>
                            </li>
                            <li>
                                <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                                    <i class="icon-notebook menu-icon"></i>
                                    <span class="nav-text">Справочники</span>
                                </a>
                                <ul aria-expanded="false" class="collapse">
                                    <li><a href="{% url 'crmapp:service_list' %}" aria-expanded="false">Услуги</a></li>
                                    <li><a href="{% url 'crmapp:inventory_index' %}" aria-expanded="false">Инвентарь</a>
                                    </li>
                                    <li><a href="{% url 'crmapp:object_type_list' %}" aria-expanded="false">Объкеты</a>
                                    </li>
                                    <li><a href="{% url 'crmapp:fine_list' %}" aria-expanded="false">Штрафы</a></li>
                                    <li><a href="{% url 'crmapp:bonus_list' %}" aria-expanded="false">Бонусы</a></li>
                                    <li><a href="{% url 'crmapp:client_index' %}" aria-expanded="false">Клиенты</a></li>
                                </ul>
                            </li>
                            <li>
                                <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                                    <i class="icon-docs menu-icon"></i>
                                    <span class="nav-text">Отчеты</span>
                                </a>
                                <ul aria-expanded="false" class="collapse">
                                    <li><a href="{% url 'crmapp:manager_cash_list' %}">Отчет по кассе</a></li>
                                    <li><a href="{% url 'crmapp:income_outcome_report' %}">Отчет о расходах и
                                        доходах</a>
                                    </li>
                                    <li><a href="{% url 'crmapp:manager_report_list' %}">Отчет менеджера</a></li>
                                    <li><a href="{% url 'accounts:payout_list' %}">Отчет по выплатам</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="{% url 'crmapp:order_deleted_list' %}" aria-expanded="false">
                                    <i class="icon-trash menu-icon"></i><span class="nav-text">Удаленные заказы</span>
                                </a>
                            </li>
                            <li class="hidden">
                                <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                                </a>
                            </li>
                            <li class="hidden">
                                <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                                </a>
                            </li>
                        {% endif %}
                    {% endblock links %}
                </ul>
            </div>
            <div class="slimScrollBar"></div>
            <div class="slimScrollRail"></div>
        </div>
    </div>
    <!--********************************** Контент ***********************************-->
    <div class="content-body">
        <div class="container-fluid">
            {% block content %}{% endblock content %}
        </div>
    </div>
    <!--********************************** Футер ***********************************-->
    <div class="footer">
        <div class="copyright">
            <p>Copyright © Designed &amp; 2022</p>
        </div>
    </div>
</div>
<!--********************************** Modal ***********************************-->
<!--********************************** Modal Fine ***********************************-->
<div id="FineModal" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Добавить Штраф</h2>
                <button onclick="modalFineClose()" class="btn btn-close" data-bs-dismiss="modal"
                        aria-label="Close">x
                </button>
            </div>
            <form>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="category">
                            <input placeholder="Категория" class="form-control" maxlength="255" type="text"
                                   id="category">
                        </label>
                    </div>
                    <div class="mb-3">
                        <label for="fine">
                            <input placeholder="Название штрафа" class="form-control" maxlength="300" type="text"
                                   id="fine" required>
                        </label>
                    </div>
                    <div class="mb-3">
                        <label for="criteria">
                            <input placeholder="Критерий" class="form-control"
                                   maxlength="255" type="tel"
                                   id="criteria">
                        </label>
                    </div>
                    <div class="mb-3">
                        <label for="fine_value">
                            <input placeholder="Сумма штрафа" class="form-control" maxlength="10"
                                   type="number"
                                   id="fine_value">
                        </label>
                    </div>
                    <div class="mb-3">
                        <label for="description">
                            <input placeholder="Пояснение" class="form-control" maxlength="500"
                                   type="text"
                                   id="description">
                        </label>
                    </div>
                    <div class="mb-3">
                        <button class="btn btn-success w-100" onclick="createFine()" type="submit"
                                id="create-button">Сохранить
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<!--********************************** Modal Bonus ***********************************-->
<div id="BonusModal" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Добавить бонус</h2>
                <button onclick="modalBonusClose()" class="btn btn-close" data-bs-dismiss="modal"
                        aria-label="Close">x
                </button>
            </div>
            <form>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="bonus">
                            <input placeholder="Бонус" class="form-control" maxlength="300" type="text"
                                   id="bonus" required>
                        </label>
                    </div>
                    <div class="mb-3">
                        <label for="bonus_value">
                            <input placeholder="Сумма бонуса" class="form-control" maxlength="10"
                                   type="number" id="bonus_value">
                        </label>
                    </div>
                    <div class="mb-3">
                        <button class="btn btn-success w-100" onclick="createBonus()" type="submit"
                                id="create-button">Сохранить
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<!--********************************** Modal Inventory ***********************************-->
<div id="InventoryModal" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Добавить инвентарь</h2>
                <button onclick="modalInventoryClose()" class="btn btn-close" data-bs-dismiss="modal"
                        aria-label="Close">x
                </button>
            </div>
            <form>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="inventory_name">
                            <input placeholder="Инвентарь" class="form-control" maxlength="255" type="text"
                                   id="inventory_name" required>
                        </label>
                    </div>
                    <div class="mb-3">
                        <label for="inventory_description">
                            <input placeholder="Описание" class="form-control" maxlength="1000" type="text"
                                   id="inventory_description">
                        </label>
                    </div>
                    <div class="mb-3">
                        <button class="btn btn-success w-100" onclick="createInventory()" type="submit"
                                id="create-button">Сохранить
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<!--********************************** Modal ObjectType ***********************************-->
<div id="ObjectTypeModal" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Добавить тип объекта</h2>
                <button onclick="modalObjectTypeClose()" class="btn btn-close" data-bs-dismiss="modal"
                        aria-label="Close">x
                </button>
            </div>
            <form>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="object_type_name">
                            <input placeholder="Тип объекта" class="form-control" maxlength="255" type="text"
                                   id="object_type_name" required>
                        </label>
                    </div>
                    <div class="mb-3">
                        <button class="btn btn-success w-100" onclick="createObjectType()" type="submit"
                                id="create-button">Сохранить
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<!--********************************** Скрипты ***********************************-->
<script src="{% static 'plugins/common/common.min.js' %}"></script>
<script src="{% static 'js/custom.min.js' %}"></script>
<script src="{% static 'js/settings.js' %}"></script>
<script src="{% static 'js/gleek.js' %}"></script>
<script src="{% static 'js/styleSwitcher.js' %}"></script>
<script src="{% static 'plugins/metismenu/js/metisMenu.min.js' %}"></script>
<script src="{% static 'plugins/toastr/js/toastr.min.js' %}"></script>
<script src="{% static 'plugins/toastr/js/toastr.init.js' %}"></script>
<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'js/modal_windows.js' %}"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
{% include 'partial/messages.html' %}

{% block scripts %}{% endblock scripts %}
</body>
</html>